\pgfplotstableread{
test_name        dcpt  apcdc cdc pcdc 
{ammp}           1.478 1.501 1   1
{applu}          1.088 1.077 1   1
{apsi}           1.037 1.010 1   1
{art110}         1.042 1.058 1   1
{art470}         1.042 1.058 1   1
{bzip2\_graphic} 1.145 1.067 1   1
{bzip2\_program} 1.035 1.040 1   1
{bzip2\_source}  1.004 1.006 1   1
{galgel}         1.040 1.082 1   1
{swim}           1.031 1.035 1   1
{twolf}          0.992 0.991 1   1
{wupwise}        1.226 1.238 1   1
}\speeduptable

\newcommand{\mgraph}[2]{
\begin{tikzpicture}[scale=0.5]
\begin{axis}[
  ybar, bar width=1pt,ymin=0,
  xmin=0.5,xmax=12.5, xtick=data,
  %axis y discontinuity=crunch,
  %ymin=0.75,
  xticklabels from table={#1}{test_name},
  xticklabel style={rotate=45,anchor=north east,inner sep=0mm},
  ylabel={\Large #2}, ylabel near ticks]
  \addplot table [x expr=\coordindex+1,y=dcpt] {#1};
  \addlegendentry{DCPT};
  \addplot table [x expr=\coordindex+1,y=apcdc] {#1};
  \addlegendentry{APCDC};
  \addplot table [x expr=\coordindex+1,y=cdc] {#1};
  \addlegendentry{CDC};
  \addplot table [x expr=\coordindex+1,y=pcdc] {#1};
  \addlegendentry{PCDC};
\end{axis}
\end{tikzpicture}
}

\newcommand{\mtable}[2]{
\centering
\resizebox{.81\columnwidth}{!}{
\pgfplotstabletypesetfile[
columns={test_name, dcpt, apcdc, cdc, pcdc},
every even row/.style={before row={\rowcolor{blue!15}}},
every head row/.style={
  before row={\toprule 
    \multirow{2}{*}{\bfseries Test Name} & \multicolumn{4}{c}{\bfseries #2}\\ \cmidrule{2-5}},
  after row=\midrule},
every last row/.style={after row=\bottomrule},
every row/.style={font=\tiny},
columns/test_name/.style={
  column name={},
  column type={l},
  string type},
columns/dcpt/.style={
  column name={DCPT},
  },
columns/apcdc/.style={
  column name={APCDC},
  },
columns/cdc/.style={
  column name={CDC},
  },
columns/pcdc/.style={
  column name={PCDC},
  },
    ] 
  {#1}
}
}


\pgfplotstableread{
test_name        dcpt  apcdc cdc pcdc 
{ammp}           1.478 1.501 1   1
{applu}          1.088 1.077 1   1
{apsi}           1.037 1.010 1   1
{art110}         1.042 1.058 1   1
{art470}         1.042 1.058 1   1
{bzip2\_graphic} 1.145 1.067 1   1
{bzip2\_program} 1.035 1.040 1   1
{bzip2\_source}  1.004 1.006 1   1
{galgel}         1.040 1.082 1   1
{swim}           1.031 1.035 1   1
{twolf}          0.992 0.991 1   1
{wupwise}        1.226 1.238 1   1
}\speeduptable
\pgfplotstableread{
test_name        dcpt  apcdc cdc pcdc 
{ammp}           0.122 0.124 1   1
{applu}          0.561 0.556 1   1
{apsi}           1.542 1.502 1   1
{art110}         0.127 0.129 1   1
{art470}         0.127 0.129 1   1
{bzip2\_graphic} 1.508 1.405 1   1
{bzip2\_program} 1.536 1.543 1   1
{bzip2\_source}  1.717 1.720 1   1
{galgel}         0.462 0.481 1   1
{swim}           0.705 0.708 1   1
{twolf}          0.421 0.420 1   1
{wupwise}        0.918 0.926 1   1
}\ipctable
\pgfplotstableread{
test_name        dcpt  apcdc cdc pcdc 
{ammp}           0.813 0.774 1   1
{applu}          0.636 0.525 1   1
{apsi}           0.403 0.355 1   1
{art110}         0.801 0.795 1   1
{art470}         0.801 0.795 1   1
{bzip2\_graphic} 0.896 0.788 1   1
{bzip2\_program} 0.807 0.574 1   1
{bzip2\_source}  0.782 0.702 1   1
{galgel}         0.655 0.739 1   1
{swim}           0.582 0.554 1   1
{twolf}          0.323 0.287 1   1
{wupwise}        0.667 0.667 1   1
}\accuracytable
\pgfplotstableread{
test_name        dcpt  apcdc cdc pcdc 
{ammp}           0.702 0.698 1   1
{applu}          0.332 0.336 1   1
{apsi}           0.173 0.028 1   1
{art110}         0.170 0.201 1   1
{art470}         0.170 0.201 1   1
{bzip2\_graphic} 0.755 0.577 1   1
{bzip2\_program} 0.537 0.229 1   1
{bzip2\_source}  0.625 0.459 1   1
{galgel}         0.425 0.924 1   1
{swim}           0.417 0.413 1   1
{twolf}          0.039 0.049 1   1
{wupwise}        0.667 0.651 1   1
}\coveragetable
\pgfplotstableread{
test_name        dcpt     apcdc    cdc pcdc 
{ammp}           13341801 19803635 1   1
{applu}          3243298  5414227  1   1
{apsi}           101119   16347    1   1
{art110}         14370198 54897828 1   1
{art470}         14370198 54897828 1   1
{bzip2\_graphic} 87717    72885    1   1
{bzip2\_program} 39751    23534    1   1
{bzip2\_source}  28729    23115    1   1
{galgel}         344166   781365   1   1
{swim}           2333012  4918637  1   1
{twolf}          156782   190970   1   1
{wupwise}        691877   551276   1   1
}\identifiedtable
\pgfplotstableread{
test_name        dcpt     apcdc     cdc pcdc 
{ammp}           12018716 112550456 1   1
{applu}          1160488  11423496  1   1
{apsi}           51421    19410     1   1
{art110}         2908765  13478208  1   1
{art470}         2908765  13478208  1   1
{bzip2\_graphic} 78988    168654    1   1
{bzip2\_program} 36835    122088    1   1
{bzip2\_source}  26851    122016    1   1
{galgel}         212199   1408948   1   1
{swim}           1622021  11688313  1   1
{twolf}          122898   1174298   1   1
{wupwise}        433846   1423433   1   1
}\issuedtable


\clearpage
\begin{figure*}[H]
\mgraph{\speeduptable}{Speedup}
\mgraph{\ipctable}{IPC}
\mgraph{\accuracytable}{Accuracy}
\mgraph{\coveragetable}{Coverage}
\mgraph{\identifiedtable}{Identified}
\mgraph{\issuedtable}{Issued}
\end{figure*}
\begin{figure*}[H]
\mtable{\speeduptable}{Speedup}
\mtable{\ipctable}{IPC}
\mtable{\accuracytable}{Accuracy}
\mtable{\coveragetable}{Coverage}
\mtable{\identifiedtable}{Identified}
\mtable{\issuedtable}{Issued}
\end{figure*}
\clearpage
