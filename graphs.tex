\pgfplotstableread{
test_name        dcpt  apcdc cdc pcdc 
{ammp}           1.478 1.501 1   1
{applu}          1.088 1.077 1   1
{apsi}           1.037 1.010 1   1
{art110}         1.042 1.058 1   1
{art470}         1.042 1.058 1   1
{bzip2\_graphic} 1.145 1.067 1   1
{bzip2\_program} 1.035 1.040 1   1
{bzip2\_source}  1.004 1.006 1   1
{galgel}         1.040 1.082 1   1
{swim}           1.031 1.035 1   1
{twolf}          0.992 0.991 1   1
{wupwise}        1.226 1.238 1   1
}\speeduptable

\newcommand{\mgraph}[2]{
\begin{tikzpicture}[scale=0.5]
\begin{axis}[
  ybar, bar width=1pt,ymin=0,
  xmin=0.5,xmax=12.5, xtick=data,
  %axis y discontinuity=crunch,
  %ymin=0.75,
  xticklabels from table={#1}{test_name},
  xticklabel style={rotate=45,anchor=north east,inner sep=0mm},
  ylabel={\Large #2}, ylabel near ticks]
  \addplot table [x expr=\coordindex+1,y=dcpt] {#1};
  \addlegendentry{DCPT};
  \addplot table [x expr=\coordindex+1,y=apcdc] {#1};
  \addlegendentry{APCDC};
  \addplot table [x expr=\coordindex+1,y=cdc] {#1};
  \addlegendentry{CDC};
  \addplot table [x expr=\coordindex+1,y=pcdc] {#1};
  \addlegendentry{PCDC};
\end{axis}
\end{tikzpicture}
}

\newcommand{\mtable}[2]{
\centering
\resizebox{.81\columnwidth}{!}{
\pgfplotstabletypesetfile[
columns={test_name, dcpt, apcdc, cdc, pcdc},
every even row/.style={before row={\rowcolor{blue!15}}},
every head row/.style={
  before row={\toprule 
    \multirow{2}{*}{\bfseries Test Name} & \multicolumn{4}{c}{\bfseries #2}\\ \cmidrule{2-5}},
  after row=\midrule},
every last row/.style={after row=\bottomrule},
every row/.style={font=\tiny},
columns/test_name/.style={
  column name={},
  column type={l},
  string type},
columns/dcpt/.style={
  column name={DCPT},
  },
columns/apcdc/.style={
  column name={APCDC},
  },
columns/cdc/.style={
  column name={CDC},
  },
columns/pcdc/.style={
  column name={PCDC},
  },
    ] 
  {#1}
}
}


\pgfplotstableread{
test_name        dcpt  apcdc cdc   pcdc 
{ammp}           1.478 1.501 0.769 1.504
{applu}          1.088 1.077 0.960 1.081
{apsi}           1.037 1.010 1.011 1.041
{art110}         1.042 1.058 1.000 1.049
{art470}         1.042 1.058 1.000 1.049
{bzip2\_graphic} 1.145 1.067 1.075 1.072
{bzip2\_program} 1.035 1.040 1.041 1.029
{bzip2\_source}  1.004 1.006 0.999 1.004
{galgel}         1.040 1.082 1.005 1.057
{swim}           1.031 1.035 1.028 1.036
{twolf}          0.992 0.991 0.971 0.887
{wupwise}        1.226 1.238 1.094 1.237
}\speeduptable
\pgfplotstableread{
test_name        dcpt  apcdc cdc   pcdc 
{ammp}           0.122 0.124 0.063 0.124
{applu}          0.561 0.556 0.495 0.558
{apsi}           1.542 1.502 1.504 1.548
{art110}         0.127 0.129 0.122 0.128
{art470}         0.127 0.129 0.122 0.128
{bzip2\_graphic} 1.508 1.405 1.416 1.411
{bzip2\_program} 1.536 1.543 1.544 1.526
{bzip2\_source}  1.717 1.720 1.707 1.716
{galgel}         0.462 0.481 0.446 0.470
{swim}           0.705 0.708 0.703 0.709
{twolf}          0.421 0.420 0.412 0.376
{wupwise}        0.918 0.926 0.819 0.926
}\ipctable
\pgfplotstableread{
test_name        dcpt  apcdc cdc   pcdc 
{ammp}           0.813 0.774 0.004 0.778
{applu}          0.636 0.525 0.721 0.561
{apsi}           0.403 0.355 0.564 0.350
{art110}         0.801 0.795 0.645 0.754
{art470}         0.801 0.795 0.645 0.754
{bzip2\_graphic} 0.896 0.788 0.656 0.323
{bzip2\_program} 0.807 0.574 0.702 0.386
{bzip2\_source}  0.782 0.702 0.724 0.498
{galgel}         0.655 0.739 0.611 0.597
{swim}           0.582 0.554 0.651 0.551
{twolf}          0.323 0.287 0.297 0.213
{wupwise}        0.667 0.667 0.399 0.667
}\accuracytable
\pgfplotstableread{
test_name        dcpt  apcdc cdc   pcdc 
{ammp}           0.702 0.698 0.003 0.678
{applu}          0.332 0.336 0.347 0.322
{apsi}           0.173 0.028 0.076 0.200
{art110}         0.170 0.201 0.103 0.180
{art470}         0.170 0.201 0.103 0.180
{bzip2\_graphic} 0.755 0.577 0.612 0.832
{bzip2\_program} 0.537 0.229 0.613 0.790
{bzip2\_source}  0.625 0.459 0.602 0.707
{galgel}         0.425 0.924 0.188 0.586
{swim}           0.417 0.413 0.396 0.390
{twolf}          0.039 0.049 0.282 0.432
{wupwise}        0.667 0.651 0.300 0.667
}\coveragetable
\pgfplotstableread{
test_name        dcpt     apcdc    cdc      pcdc 
{ammp}           13341801 19803635 13404126 17109752
{applu}          3243298  5414227  2020165  2898562 
{apsi}           101119   16347    98053    142102  
{art110}         14370198 54897828 13156830 27550777
{art470}         14370198 54897828 13156830 27550777
{bzip2\_graphic} 87717    72885    104851   242425  
{bzip2\_program} 39751    23534    52926    116556  
{bzip2\_source}  28729    23115    31910    48585   
{galgel}         344166   781365   340220   528646  
{swim}           2333012  4918637  1741602  2709874 
{twolf}          156782   190970   986767   2262886 
{wupwise}        691877   551276   457994   562791  
}\identifiedtable
\pgfplotstableread{
test_name        dcpt     apcdc     cdc      pcdc 
{ammp}           12018716 12550456 13395885 12146048
{applu}          1160488  1423496  1069860  1276092
{apsi}           51421    9410     16076    68563
{art110}         2908765  3478208  2200220  3281075
{art470}         2908765  3478208  2200220  3281075
{bzip2\_graphic} 78988    68654    87490    241228
{bzip2\_program} 36835    22088    48270    113295
{bzip2\_source}  26851    22016    27950    47736
{galgel}         212199   408948   100397   321087
{swim}           1622021  1688313  1377435  1599344
{twolf}          122898   174298   971895   2077415
{wupwise}        433846   423433   325756   433815  
}\issuedtable


\clearpage
\begin{figure*}[H]
\centering
\mgraph{\speeduptable}{Speedup}
\mgraph{\ipctable}{IPC}
\mgraph{\accuracytable}{Accuracy}

\mgraph{\coveragetable}{Coverage}
\mgraph{\identifiedtable}{Identified}
\mgraph{\issuedtable}{Issued}
\end{figure*}
\begin{figure*}[H]
\mtable{\speeduptable}{Speedup}
\mtable{\ipctable}{IPC}
\mtable{\accuracytable}{Accuracy}
\mtable{\coveragetable}{Coverage}
\mtable{\identifiedtable}{Identified}
\mtable{\issuedtable}{Issued}
\caption{The benchmark results.}
\label{fig:results}
\end{figure*}
\clearpage

% dcpc Blast #1 http://dm-ark.idi.ntnu.no/pf/184/details/
% apcdc APCDC#2 http://dm-ark.idi.ntnu.no/pf/166/details/
% cdc cdc-1-16 http://dm-ark.idi.ntnu.no/pf/1442/details/
% pcdc pcdc-2 http://dm-ark.idi.ntnu.no/pf/1447/details/
